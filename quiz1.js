var questions = {
  0: {
    question: "What is your favorite color?",
    choices: [
      {
        url: "https://wallpaperaccess.com/full/3602439.jpg",
        caption: "Lavender"
      },
      {
        url: "https://th.bing.com/th/id/R.ed05b6238ec0080bb6a60ddcb78b96e6?rik=6enmfbQ4gNhTsw&riu=http%3a%2f%2ftusimagenesde.com%2fwp-content%2fuploads%2f2017%2f03%2fcolor-beige-2.jpg&ehk=zWG%2bJPHDw4b0gepd0%2fUvnmENChJUD0j9O%2bt%2bh1kAsYU%3d&risl=&pid=ImgRaw&r=0",
        caption: "Skin Tone"
      },
      {
        url: "https://www.solidbackgrounds.com/images/2880x1800/2880x1800-blue-munsell-solid-color-background.jpg",
        caption: "Blue Munsell"
      },
      {
        url: "https://www.solidbackgrounds.com/images/1920x1200/1920x1200-fluorescent-pink-solid-color-background.jpg",
        caption: "Bright Pink"
      },
      {
        url: "https://www.colorhexa.com/3c3838.png",
        caption: "Dark Grey"
      },
      {
        url: "https://www.colorhexa.com/61714d.png",
        caption: "Dark Green"
      },
    ]
  },
  1: {
    question: "If you were to live in a different city, what city would you choose?",
    choices: [
      {
        url: "https://images.squarespace-cdn.com/content/v1/61951035468f2e13a24a7225/78385170-e72d-4d7f-b5de-2d4906b3e0e1/Screen+Shot+2022-06-22+at+10.34.50+PM.jpg?format=750w",
        caption: "New York, USA "
      },
      {
        url: "https://i.pinimg.com/564x/ea/bc/b5/eabcb51eea169c241486768e403173c1.jpg",
        caption: "Tokyo, Japan"
      },
      {
        url: "https://i.pinimg.com/564x/1b/04/37/1b0437a80f7b0453967e4a9e98da891a.jpg",
        caption: "Rome, Italy"
      },
      {
        url: "https://i.pinimg.com/564x/f7/51/92/f75192cb594ebff1b55f03a5f1ac6af7.jpg",
        caption: "Barcelona, Spain"
      },
      {
        url: "https://www.passporttoeden.com/wp-content/uploads/2022/08/DarkAcademiaCities_ParisFrance-1-of-1.jpg",
        caption: "Paris, France"
      },
      {
        url: "https://www.pocketwanderings.com/wp-content/uploads/2022/03/Grindelwald.jpg",
        caption: "Grindelwald, Switzerland"
      },
    ]
  },
  2: {
    question: "What is your style of clothing?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/03/23/3d/03233d701391f093d73ddfae2c0fa5e2.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/34/00/b8/3400b8b7a3684170bfeeca5dcb613429.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/0a/55/66/0a55660c005d7525fc3e6d000715a28e.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/d4/c4/c5/d4c4c57406a6cf5f9694e60a3ba7447d.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/c8/3d/35/c83d3582e016711a092c1bd31ec921e5.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/4f/38/3d/4f383d8bfe3934695075035faef556e3.jpg",
        caption: ""
      },
    ]
  },
  3: {
    question: "Choose your favorite type of shoes.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/4f/2a/b9/4f2ab933c8025239c3800ebb36e3ba2c.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/f2/90/31/f2903153f507db4895aea6a6891e057e.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/4d/87/22/4d8722813e3ad9432d1bc8969785ae63.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/b9/ee/cf/b9eecfcbaa1e94a25b2d8bff4f4544a3.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/14/ec/7d/14ec7dbfef6a256f35a3fd5f680329be.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/a5/65/39/a5653990e3c4a7129444880740eb2fff.jpg",
        caption: ""
      },
    ]
  },
  4: {
    question: "Which room would be your favorite?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/b3/1c/73/b31c73965f750be0bd4a5529499931b9.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/ec/67/f9/ec67f9b376d1e75a23a2da0829911dea.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/14/57/bd/1457bdc4dfd956f2eb3d2e5937c83e3c.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/86/54/52/865452d3987699f8ffad76e61ba068df.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/f0/e1/d5/f0e1d592fbdcef34344d69885512c333.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/4f/c1/1e/4fc11ee150dc61e764bc50c94e58a706.jpg",
        caption: ""
      },
    ]
  },
  5: {
    question: "What is your favorite subject?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/90/0d/cd/900dcdbf7febe085ce181ffb8ab9757f.jpg",
        caption: "Math"
      },
      {
        url: "https://i.pinimg.com/564x/50/51/21/50512127a9b92505cca80e76f654d99c.jpg",
        caption: "Biology"
      },
      {
        url: "https://i.pinimg.com/236x/f9/61/e3/f961e392c930a83d1d82dae02093e0e3.jpg",
        caption: "History"
      },
      {
        url: "https://i.pinimg.com/564x/a5/1d/47/a51d47d042eb98a3a994d5ffbeb66667.jpg",
        caption: "Chemistry"
      },
      {
        url: "https://i.pinimg.com/564x/61/6f/5a/616f5a90d9c42f201f09ef88132aae35.jpg",
        caption: "Art"
      },
      {
        url: "https://i.pinimg.com/564x/3c/49/45/3c4945a5ae6ba43e8b080395ca3d8e22.jpg",
        caption: "Literature"
      },
    ]
  },
  6: {
    question: "What is your favorite hobby?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/bf/5b/7f/bf5b7f9b861b67feec85b0295ea4679a.jpg",
        caption: "Journaling"
      },
      {
        url: "https://i.pinimg.com/564x/f3/f2/80/f3f280cb151dadf0b2d532ca45cdd92f.jpg",
        caption: "Baking"
      },
      {
        url: "https://i.pinimg.com/564x/27/5c/8e/275c8e2ecab7d829f552a91e4f088a0d.jpg",
        caption: "Photography"
      },
      {
        url: "https://i.pinimg.com/564x/f3/64/d9/f364d994ccd504d205f190d885c03de7.jpg",
        caption: "Music"
      },
      {
        url: "https://i.pinimg.com/564x/50/98/ab/5098abe31b05f4e29f4b617aea163d9c.jpg",
        caption: "Reading"
      },
      {
        url: "https://i.pinimg.com/736x/fb/6e/4d/fb6e4d98b7e9089b6408f31a58393339.jpg",
        caption: "Gardening"
      },
    ]
  },
  7: {
    question: "Pick a picture which best describes you.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/77/b9/e6/77b9e613e24ebce736f17afde818b378.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/47/b8/66/47b8664d58e8476c445f10f9fce861ea.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/04/70/a7/0470a7ef03728473b8e800312492c072.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/eb/5c/72/eb5c72bbc19632897d30b454ef8b6ec9.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/78/49/ac/7849acf43fa5cdc4152758562f2f3dbe.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/46/5e/88/465e88fa37dcb92b06088faa1daa306e.jpg",
        caption: ""
      },
    ]
  },
  8: {
    question: "Choose your favorite type of flowers.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/e2/9e/b2/e29eb2a865b1f065de232f800e21f754.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/49/e2/1f/49e21f0d8e2267a7d1466c9b3ec6c6f1.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/04/70/a7/0470a7ef03728473b8e800312492c072.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/53/a7/87/53a78767fdbdf05820fb521e566b51a3.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/78/26/aa/7826aa1653bdeded1e44efc594ce6e77.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/c2/55/96/c2559655d8e682124e7f3fe6ee0bae5c.jpg",
        caption: ""
      },
    ]
  },
  9: {
    question: "Which drink is your favorite?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/3b/a3/93/3ba393528b8038ac8dd4e2070ffe46f9.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/d3/e8/52/d3e852cf8636c85556172bd32250ce11.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/af/1f/62/af1f6249ebaced5ef18dc30ceffc5ce4.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/ef/0a/55/ef0a555948d6fab0edae4c9027efa5ae.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/de/b3/80/deb380f18135e5d185fc2386807d464b.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/8e/2a/e2/8e2ae215789e4ef511390e9b15e74dc8.jpg",
        caption: ""
      },
    ]
  },
  10: {
    question: "What is your favorite genre of music?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/e7/93/35/e7933577f564b9ea44489d1b59d35a67.jpg",
        caption: "Pop"
      },
      {
        url: "https://i.pinimg.com/564x/6a/86/3a/6a863a8ae570a61751ef37d513a5fef7.jpg",
        caption: "Alternative/Indie"
      },
      {
        url: "https://i.pinimg.com/564x/6e/e1/81/6ee181f52501b22b58bd3f655facf5cf.jpg",
        caption: "Rock"
      },
      {
        url: "https://i.pinimg.com/564x/34/3f/65/343f65d5959cb97b6fca7056585625eb.jpg",
        caption: "R&B"
      },
      {
        url: "https://i.pinimg.com/564x/60/91/70/609170fa17472aa876a2042066c2cf2f.jpg",
        caption: "Classical"
      },
      {
        url: "https://i.pinimg.com/564x/df/c7/3b/dfc73bc4c86b12e16bdf2a38cf1aa6bb.jpg",
        caption: "Country"
      },
    ]
  },
  11: {
    question: "Pick your favorite bag to use.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/2f/c2/b7/2fc2b7122f2c566cb1fa6bd2b62f176d.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/c4/46/c7/c446c73d2d7a895490d7bbd390ca9340.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/736x/ef/a8/a1/efa8a1bf26d9193db2d83e1233f90bfc.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/a4/7b/52/a47b52ddb09413e5cfe8e947a958c2af.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/a1/2d/0e/a12d0e10bc588a8a0f4a06fe7fc0d1cc.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/60/bc/01/60bc0133205487b803116413281a28a9.jpg",
        caption: ""
      },
    ]
  },
  12: {
    question: "If you had a day to yourself, where would you go?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/16/ee/8c/16ee8c3a4d4e0fbff6e80c799ea4b8c3.jpg",
        caption: "Amusement Park"
      },
      {
        url: "https://i.pinimg.com/564x/85/51/53/855153b2273b4ce620075535af1a1231.jpg",
        caption: "Stay at Home"
      },
      {
        url: "https://i.pinimg.com/564x/b0/6b/54/b06b546361720fe14a7104aa4c758bf1.jpg",
        caption: "Cafe"
      },
      {
        url: "https://i.pinimg.com/564x/5f/d5/7d/5fd57d1d4bf7515bf152ef547a542d17.jpg",
        caption: "Arcade"
      },
      {
        url: "https://i.pinimg.com/564x/96/16/d5/9616d593d90be28e9c69b9fec05f57fd.jpg",
        caption: "Movie Theater"
      },
      {
        url: "https://i.pinimg.com/564x/e9/27/7f/e9277f071af57b3fc801a6a0458a3ec3.jpg",
        caption: "Park"
      },
    ]
  },
  13: {
    question: "Which color palette best describes your style?",
    choices: [
      {
        url: "https://i.pinimg.com/564x/85/c0/f4/85c0f4c5685664e4cfd6d848c243631f.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/17/88/e2/1788e2a1fe5c08e2b3d03bd7ffbaf9d0.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/5d/fc/da/5dfcdada45307384f5993815835091f6.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/f2/cc/62/f2cc620857d17d7d33dc13e56389358b.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/e9/f7/4e/e9f74ea5d06363fd053a56b615bbd539.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/eb/60/ad/eb60ad4144bc7b9a65de0021b13c54cb.jpg",
        caption: ""
      },
    ]
  },
  14: {
    question: "Choose your favorite cake for your birthday.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/a6/85/c6/a685c6a01900457ac6ae4d064670fac5.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/a8/81/1f/a8811fca9e66f335e468cd289f7280f9.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/f6/26/95/f626958ca28b3fba779dca6987d6a399.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/4d/1b/78/4d1b786bdef8f102968bcf92e11927ee.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/0c/f3/b9/0cf3b92f74435d301b146ed7c03be065.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/d0/da/e0/d0dae0073e44d5363faa930644acab26.jpg",
        caption: ""
      },
    ]
  },
  15: {
    question: "Which hairstyle is your favorite? ",
    choices: [
      {
        url: "https://i.pinimg.com/564x/1c/20/6b/1c206b45949e2455be9d9f13ccf994af.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/77/4e/71/774e7108f0cb070e98d179f05ee872bc.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/24/84/85/248485bd2c94345acf340448abfb37d4.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/b9/d9/63/b9d963cb3deb897cfea9b95c200c88cc.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/3a/29/53/3a29532ae438b8179c11210415acc582.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/06/51/92/06519219a736f44017293714ad8c086f.jpg",
        caption: ""
      },
    ]
  },
  16: {
    question: "Choose your favorite make-up look",
    choices: [
      {
        url: "https://i.pinimg.com/564x/bd/05/d9/bd05d9e0326f23f4ee119ca95fc24249.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/d6/a6/41/d6a641975d706dcf3102c5277efe31eb.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/62/98/7a/62987a08714b2c8122ad85e10a43c69b.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/7a/03/1f/7a031fb6fc9ecbe0dc818c858ff97166.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/92/47/ed/9247ed7d2706036ec05caa38395d6722.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/9b/de/4a/9bde4a40f63115cbc847a005fb6c9034.jpg",
        caption: ""
      },
    ]
  },
  17: {
    question: "Which picture best describes your personality? ",
    choices: [
      {
        url: "https://i.pinimg.com/564x/27/48/2b/27482ba52b28ef617fa1db175ba491dc.jpg",
        caption: "Friendly"
      },
      {
        url: "https://i.pinimg.com/564x/80/11/0b/80110bb9952a99a63946e8dd5b787056.jpg",
        caption: "Hardworking"
      },
      {
        url: "https://i.pinimg.com/564x/62/98/7a/62987a08714b2c8122ad85e10a43c69b.jpg",
        caption: "Introverted"
      },
      {
        url: "https://i.pinimg.com/564x/70/bb/8f/70bb8fef6297a46a0e859ad029a04df0.jpg",
        caption: "Artistic"
      },
      {
        url: "https://i.pinimg.com/564x/00/16/12/001612004ed63d326dc40f00afebcc72.jpg",
        caption: "Intelligent"
      },
      {
        url: "https://i.pinimg.com/564x/a6/61/65/a66165dd61d761b29f05f5742effc2a7.jpg",
        caption: "Simple"
      },
    ]
  },
  18: {
    question: "Choose your favorite jewelry to wear. ",
    choices: [
      {
        url: "https://i.pinimg.com/564x/1b/fe/9a/1bfe9a68a9c2813f30773e7a778ba660.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/a0/1f/49/a01f49ddc2842c0d11d364e6485d2103.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/7f/5f/95/7f5f95f1f27eaa6db8f12b2a91f51cff.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/4b/3f/8d/4b3f8d609ac11c6cf272e9704e485e26.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/65/22/4b/65224b673546d2b55d233b80ac40ad11.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/b8/82/bc/b882bc4a991ffe49519367d396363f90.jpg",
        caption: ""
      },
    ]
  },
  19: {
    question: "Choose a phone case which best describes you.",
    choices: [
      {
        url: "https://i.pinimg.com/564x/f9/ba/a3/f9baa358b1628eb48537ba706d01aa5b.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/15/72/a4/1572a477c4a71679e0a3835ef8c8a6c6.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/f2/0c/28/f20c28fa223cbe05994c43b61083cd0e.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/9c/74/5c/9c745c1b4f7a2c099f7a5a1335426dd7.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/44/89/07/4489078ee989e2bf7bceb205933d66ec.jpg",
        caption: ""
      },
      {
        url: "https://i.pinimg.com/564x/0c/78/72/0c787299eb0864065bec306735b2095e.jpg",
        caption: ""
      },
    ]
  }
}

/* function for starting the quiz */
const questionNum = 15; //declare number of questions
function startQuiz() {
  const selectedQuestions = getRandom(questions, questionNum); //call a function to generate the numbers
  const main = document.getElementById("qContainer");
  document.getElementById("startQuiz").style.display = "none";
  document.getElementById("mainQuiz").style.display = "flex";

  for (let i = 0; i < selectedQuestions.length; i++) { //loop to make divs with selected questions
    const qDiv = document.createElement("div");
    qDiv.classList.add("question");
    qDiv.innerHTML = "<p>" + questions[selectedQuestions[i]].question + "</p>";
    const choices = document.createElement("div");
    choices.classList.add("choices");

    for (let j = 0; j < 6; j++) { //loop for choices
      const imgDiv = document.createElement("div");
      imgDiv.classList.add("imgDiv");
      imgDiv.classList.add("selected");
      if (j == 0) {
        imgDiv.classList.add("softGirl");
      } else if (j == 1) {
        imgDiv.classList.add("casual");
      } else if (j == 2) {
        imgDiv.classList.add("vintageCore");
      } else if (j == 3) {
        imgDiv.classList.add("y2k");
      } else if (j == 4) {
        imgDiv.classList.add("darkAcademia");
      } else if (j == 5) {
        imgDiv.classList.add("cottageCore");
      }
      const img = document.createElement("img");
      img.classList.add("image")
      const url = questions[selectedQuestions[i]].choices[j].url;
      const captionText = questions[selectedQuestions[i]].choices[j].caption;
      img.src = url;
      img.alt = captionText;
      imgDiv.appendChild(img);
      const caption = document.createElement("p");
      caption.classList.add("choiceCaption");
      caption.innerHTML = captionText;
      imgDiv.appendChild(caption);
      choices.appendChild(imgDiv);
    }

    qDiv.appendChild(choices);
    main.appendChild(qDiv);
    main.style.display = "block";
    document.getElementById("pinterestQuiz").style.justifyContent = "flex-start";
  }
  randomizeDivOrder();
  eventListeners();
  smoothScrolling();
  randomBgColor();
  document.getElementById("mainQuiz").style.width = "80%";
  document.getElementById("mainQuiz").style.display = "flex";
  document.getElementById("submitQuiz").style.display = "block";
}

/* random numbers generator */
function getRandom(questions, questionNum) {
  const questionList = Object.keys(questions);
  var selectedQuestions = [];
  var similar;

  /* the loop below randomly selects questions from the questions list */
  for (let i = 0; i < questionNum && questionList.length > 0; i++) {
    var random = Math.floor(Math.random() * questionList.length);
    similar = false;
    for (let j = 0; j < selectedQuestions.length; j++) { //checks for repetition in random numbers
      if (selectedQuestions[j] == random) {
        similar = true;
        break;
      }
    }
    if (similar == false) {
      selectedQuestions.push(random); //if the number was not repeated, it gets pushed into the array
    } else {
      i--; //decrements the loop by 1 if there was a repeated number
    }
  }
  return selectedQuestions;
}

/* function to randomize the div order using Fisher-Yates */
function randomizeDivOrder() {
  const choices = document.querySelectorAll(".choices");
  choices.forEach(choice => {
    const imgDivs = Array.from(choice.querySelectorAll(".imgDiv"));
    for (let i = imgDivs.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      choice.insertBefore(imgDivs[j], imgDivs[i]);
    }
  });
}
/* event listeners for divs so that once a div is clicked, the other three change opacity */
function eventListeners() {
  const parent = document.querySelectorAll(".question");

  parent.forEach((question, index) => {
    const choices = question.querySelectorAll(".choices .imgDiv");

    choices.forEach(choice => {
      choice.addEventListener("click", () => {
        choice.classList.add("selected");
        choice.classList.remove("deselected");
        choices.forEach(otherChoice => {
          if (otherChoice !== choice) {
            otherChoice.classList.add("deselected");
            otherChoice.classList.remove("selected");
          }
        });
      });
    });
  });
}
/* for smooth scrolling if user finishes a question */
function smoothScrolling() {
  const choices = document.querySelectorAll(".choices");
  choices.forEach((div) => {
    div.addEventListener("click", scroll);
  });
}
function scroll(event) {
  var currentDiv = event.target;
  currentDiv = currentDiv.parentElement;
  currentDiv = currentDiv.parentElement;
  currentDiv = currentDiv.parentElement;
  const nextDiv = findNext(currentDiv); //finding the next div to scroll to
  if (nextDiv) {
    nextDiv.scrollIntoView({ behavior: "smooth" });
  }
}
function findNext(currentDiv) {
  const questions = document.querySelectorAll(".question");
  let current = Array.from(questions).indexOf(currentDiv);
  for (let i = current + 1; i < questions.length; i++) {
    if (questions[i].classList.contains("question")) {
      return questions[i-1];
    }
  }
  return null;
}
/* for assigning each div with a random background color */
function randomBgColor() {
  const colors = ["#FFEBEB", "#ADE4DB", "#6DA9E4", "#F6BA6F", "#C9A7EB", "#6C9BCF", "#AFD3E2", "#ADE4DB", "#FFDEB4", "#FDF7C3", "#FFB4B4", "#EDDBC7", "#FF9494", "#B0DAFF", "#E5BA73", "#FBFACD"];
  const divs = document.querySelectorAll(".question");

  divs.forEach(function(div) {
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    div.style.backgroundColor = randomColor;
  });
}

/* for checking the completion of inputs */
function checkQuizInput() {
  const questions = document.querySelectorAll(".question");

  if (confirm("Are you sure?")) {
    var found;
    questions.forEach(question => {
      const imgDivs = question.querySelectorAll(".imgDiv");
      if (found) {
        return;
      }
      let selected = 0;
      found = false;

      imgDivs.forEach(imgDiv => {
        if (imgDiv.classList.contains("selected")) {
          selected++;
        }
      });
      if (selected > 1) { //if more than one imgDiv has class "selected" per question, that means that the question has not been answered yet and the script scrolls to that particular question
        alert("Please fill out all questions.");
        question.scrollIntoView({ behavior: "smooth" });
        found = true;
      }
    });
    if (found !== true) { //if all questions are answered, inputs are evaluated
      calculateInput();
    }
  } else {
    return;
  }
}

/* for calculating input values */
var softGirlCount = 0;
var casualCount = 0;
var vintageCoreCount = 0;
var y2kCount = 0;
var darkAcademiaCount = 0;
var cottageCoreCount = 0;

function calculateInput() {
  softGirlCount = 0;
  casualCount = 0;
  vintageCoreCount = 0;
  y2kCount = 0;
  darkAcademiaCount = 0;
  cottageCoreCount = 0;

  const questionDivs = document.querySelectorAll(".question");
  questionDivs.forEach(question => {
    const imgDivs = question.querySelectorAll(".imgDiv");
    imgDivs.forEach(choice => {
      if (choice.classList.contains("selected")) {
        if (choice.classList.contains("softGirl")) {
          softGirlCount++;
        } else if (choice.classList.contains("casual")) {
          casualCount++;
        } else if (choice.classList.contains("vintageCore")) {
          vintageCoreCount++;
        } else if (choice.classList.contains("y2k")) {
          y2kCount++;
        } else if (choice.classList.contains("darkAcademia")) {
          darkAcademiaCount++;
        } else if (choice.classList.contains("cottageCore")) {
          cottageCoreCount++;
        }
      }
    });
  });
  displayResult();
}

/* for displaying the result on the page */
function displayResult() {
  document.getElementById("mainQuiz").style.display = "none";
  document.getElementById("results").style.display = "flex";

  // to calculate percentages
  var softGirlC = softGirlCount / questionNum;
  var casualC = casualCount / questionNum;
  var vintageCoreC = vintageCoreCount / questionNum;
  var y2kC = y2kCount / questionNum;
  var darkAcademiaC = darkAcademiaCount / questionNum;
  var cottageCoreC = cottageCoreCount / questionNum;

  // chart with chart.js
  const data = {
    labels: ["Soft Girl", "Casual", "Vintage Core", "Y2K", "Dark Academia", "Cottage Core"],
    datasets: [{
      label: "  You are",
      data: [softGirlC * 100, casualC * 100, vintageCoreC * 100, y2kC * 100, darkAcademiaC * 100, cottageCoreC * 100],
      backgroundColor: [
        "#FF6969", "#19A7CE", "#F6BA6F", "#FEFF86", "#BA90C6", "#9DF1DF", 
      ],
      borderWidth: 8,
      borderColor: "rgba(255,255,255,0.8)",
      hoverOffset: 6
    }]
  };

  const config = {
    type: 'doughnut',
    data: data,
    options: {
      borderWidth: 4,
      plugins: {
        tooltip: {
          callbacks: {
            label: function(context) {
              const label = context.dataset.label || " ";
              const value = context.parsed.toFixed(2) + "%";
              const section = context.label || " ";
              return `${label} ${value} ${section}`;
            }
          }
        },
        legend: {
          display: false
        }
      }
    }
  };

  var chart = new Chart(
    document.getElementById("chart"),
    config
  );

  const ul = document.querySelector("ul");
  // making the ul that stands as a legend for the chart

  function populateUl() {
    data.labels.forEach((l, i) => {
      const li = document.createElement("li");
      li.innerHTML = `${l}: <span class="percentage">${data.datasets[0].data[i].toFixed(2)}%</span>`;
      ul.appendChild(li);
    });
  }
  populateUl();
  // calculating for aesthetic with most points
  var from = highestAesthetic(softGirlCount, casualCount, vintageCoreCount, y2kCount, darkAcademiaCount, cottageCoreCount);

  // displaying more result info
  const heading = ["Soft Girl", "Casual", "Vintage Core", "Y2K", "Dark Academia", "Cottagecore"];
  const description = ["As a soft girl, you have a very bright style consisting of pastel clothing and accessories. You enjoy being girly and cute. You are perceived to have a very friendly personality. Oftentimes, your friends consider you to be a ray of sunshine in the squad. You have a very warm and sweet vibe making people feel at home in your presence. ", /*next*/ "Having a casual aesthetic means that you value comfort over trendy clothing. You enjoy wearing minimalistic and day-to-day fashion styles. You prefer clothing that is very simple and elegant at the same time. People perceive you to have a very calm and relaxed personality. Your friends consider you as someone being loyal and a listener. Oftentimes, you prefer smaller friend groups rather than big ones. ", /*next*/ "The Vintage Core aesthetic means that you prefer an old but classy type of fashion. You enjoy dressing up in vintage attire and accessories. You are perceived to be very reserved and shy to other people. Behind this, you are one of the most caring and empathetic people out there. Oftentimes, you keep your feelings to yourself but you have a few friends that you can trust. You prefer long term relationships and friendships rather than short ones. ", /*next*/ "The Y2K aesthetic brings back the 90’s style and futuristic fashion. Overall, you enjoy bright colors, shiny accessories and neon vibes. You are perceived to be optimistic and confident about yourself. Oftentimes, your friends consider you as the life of the party in events. Your friends admire you for your fashion sense and ask you for advice. You have a wide range of imagination consisting of arts, technology and logic. ", /*next*/ "The Dark Academia aesthetic features a monochrome color palette which is close to brown, gray and navy blue. You enjoy dressing up in formal attire like blazers and vests. You are perceived to have high intelligence and knowledge about the world around you. Oftentimes, people consider you to be a studyholic or workaholic. Though you may be very introverted, you have a very bold and traditional personality. You are very hardworking and dedicated to you responsibilities. ",/*next*/ "The Cottage Core aesthetic includes clothing and accessories with the feel of nature and the countryside living. You enjoy wearing dresses and cardigan sweaters filled with flowers, leaves and butterflies. People perceive you as a very simple but peaceful person. You strive to prioritize yourself above everything else. Oftentimes, your friends consider you as the mom of the group because of your pure and genuine heart. You try your best to enjoy and live in the present moment. " ];
  var resH = document.getElementById("resultHeading");
  var resD = document.getElementById("resultDescription");
  var container = document.getElementsByClassName("container")[0];
  var percent;
  /*
    softGirlCount = 0;
  casualCount = 0;
  vintageCoreCount = 0;
  y2kCount = 0;
  darkAcademiaCount = 0;
  cottageCoreCount = 0;
  */
  document.getElementById("youAre").innerHTML = "Your aesthetic is...";
  if (from == softGirlCount) {
    resH.innerHTML = heading[0];
    resD.innerHTML = description[0];
    percent = (softGirlCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/564x/72/48/83/724883a2b92f855ab3430ab8dda8a61a.jpg')"
  } else if (from == casualCount) {
    resH.innerHTML = heading[1];
    resD.innerHTML = description[1];
    percent = (casualCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/736x/e0/15/5b/e0155bd1736acf6d216b7d7fccda7c06.jpg')"
  } else if (from == vintageCoreCount) {
    resH.innerHTML = heading[2];
    resD.innerHTML = description[2];
    percent = (vintageCoreCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/564x/11/bc/1e/11bc1e6a728ffd8e664b267f483619e0.jpg')"
  } else if (from == y2kCount) {
    resH.innerHTML = heading[3];
    resD.innerHTML = description[3];
    percent = (y2kCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/564x/43/65/68/4365687eb93934d474b72c5943db0bef.jpg')"
  } else if (from == darkAcademiaCount) {
    resH.innerHTML = heading[4];
    resD.innerHTML = description[4];
    percent = (darkAcademiaCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/564x/58/65/6a/58656add6371e21953592cbbf763d888.jpg')"
  } else if (from == cottageCoreCount) {
    resH.innerHTML = heading[5];
    resD.innerHTML = description[5];
    percent = (cottageCoreCount / questionNum).toFixed(2);
    container.style.backgroundImage = "url('https://i.pinimg.com/564x/c1/73/44/c17344f56425fa6860f95addd48b70bc.jpg')"
  }

  var historyInitial = document.getElementById("historyInitial");
  var aestheticCont = document.getElementById("aesthetic");
  var aestheticPercentCont = document.getElementById("aestheticPercentage");

  if (localStorage.getItem("isLoggedIn")) {
    document.getElementById("resetAttemptHistory").style.display = "block";
    let attempts = localStorage.getItem("aestheticAttempts");
    attempts++;
    localStorage.setItem("aestheticAttempts", attempts);
    var saveData = [resH.innerHTML, percent];
    localStorage.setItem("aestheticScore" + attempts, JSON.stringify(saveData));
    historyInitial.innerHTML = "View your quiz history below."

    for (let i = 1; i < attempts; i++) {
      const key = "aestheticScore" + i;
      const array = JSON.parse(localStorage.getItem(key));

      const aestheticC = document.createElement("p");
      aestheticC.innerHTML = array[0];
      aestheticCont.appendChild(aestheticC);

      const aestheticPC = document.createElement("p");
      aestheticPC.innerHTML = array[1] * 100 + "%";
      aestheticPercentCont.appendChild(aestheticPC);
    }
  } else {
    historyInitial.innerHTML = "To save the results of your next attempt, sign up or log in."
    aestheticCont.style.display = "none";
    aestheticPercentCont.style.display = "none";
    document.getElementById("resetAttemptHistory").style.display = "none";
  }
}

// function for highest value out of all the aesthetic scores
function highestAesthetic(a, b, c, d, e, f) {
  return Math.max(a, b, c, d, e, f);
}

// to completely reset user attempt history
function resetAttemptHistory() {
  var result = confirm("This will wipe out ALL of your attempt histories, including your current one, for this quiz. This can no longer be undone and your data cannot be recovered. If you would like to do so, please click OK");
  let attempts = localStorage.getItem("aestheticAttempts");
  if (result) {
    for (let i = 1; i <= attempts; i++) {
      const key = "aestheticScore" + i;
      localStorage.removeItem(key);
    }
    attempts = 0;
    localStorage.setItem("aestheticAttempts", 0);
    window.location.reload();
  }
}